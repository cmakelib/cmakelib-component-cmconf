## Test TEST_SYSTEM system variables
#
# Tests CMCONF_GET with TEST_SYSTEM system
#

IF(NOT DEFINED CMAKE_SCRIPT_MODE_FILE)
    CMAKE_MINIMUM_REQUIRED(VERSION 3.22)
    PROJECT(CMCONF_GET_TEST_SYSTEM_SYSTEM_TEST)
ENDIF()

FIND_PACKAGE(CMLIB REQUIRED)

INCLUDE("${CMAKE_CURRENT_LIST_DIR}/../../../../TEST.cmake")
INCLUDE("${CMAKE_CURRENT_LIST_DIR}/../../../../cache_var.cmake")
INCLUDE("${CMAKE_CURRENT_LIST_DIR}/../../../../../CMCONF.cmake")

CMCONF_INIT_SYSTEM(TEST_SYSTEM)
CMCONF_GET(VARIABLE_A)
CMCONF_GET(SYSTEM_VAR)

TEST_VAR_DEFINED(VARIABLE_A)
TEST_VAR_DEFINED(SYSTEM_VAR)
TEST_VAR_EQUALS_LITERAL(VARIABLE_A "test_system_value_a")
TEST_VAR_EQUALS_LITERAL(SYSTEM_VAR "system_value")
